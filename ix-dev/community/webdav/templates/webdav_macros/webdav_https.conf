{% import "webdav_macros/webdav_core.conf" as webdav_core %}
{% import "webdav_macros/health.conf" as health %}

{% macro webdav_https(values) %}
Listen {{ values.network.https_port }}
<VirtualHost *:{{ values.network.https_port }}>
  SSLEngine on
  SSLCertificateFile "{{ values.consts.ssl_cert_path }}"
  SSLCertificateKeyFile "{{ values.consts.ssl_key_path }}"
  SSLProtocol +TLSv1.2 +TLSv1.3
  SSLCipherSuite HIGH:MEDIUM
{%- if not values.network.enable_http %}
{{ health.health(values) }}
{%- endif %}
{{ webdav_core.webdav_core(values) }}
</VirtualHost>
{% endmacro %}
